---
title: hexo主题配置再升级--插件配置
date: 2018-05-04
categories: [通用]
tags: [Github,hexo]
description: "hexo插件升级，是自己的blog更加prefect!"
cover_picture: http://img.willhappy.cn/hexo/cover_pic/cover_picture_27.jpg

---

关于hexo博客搭建的知识请移步[GitHub+Hexo搭建个人博客][1], 主题样式等相对简单，中间也有几次对主题的更改更换，也在版本更新里面做了相应的记录，博客的实用性在于他不断地完善， 对读者更加的友善， 让读者也更感兴趣， 此节就是博客的插件配置上介绍。

<!--more-->

[toc]

### 前言
在此申明， 我博客使用的主题为[hexo-theme-miho][5], 之前使用的主题是[yelee][8] 基础配置，在主题文档中都有介绍，我是在此基础上，对主题的样式进行了小的优化使其符合我的风格，对于主题样式的修改，在我的版本更新说明中都有介绍，可[点击查看][6]，所以，在本节中所有的插件安装配置等，都是基于该主题的，如你使用其他主题，大同小异，好好研究以下即可。

### 一. DaoVoice实现在线联系
用于用户之间的沟通插件。

#### 注册登陆
[官方网站][2]注册登陆，注册登陆后创建团队，填写邀请码`ab5cf222`, 即可创建完成

#### 安装代码
在`themes/hexo-theme-miho/layout/layout.ejs`文件中追加js代码：

```js
<% if (theme.daovoice) { %>
  <script>
    (function(i,s,o,g,r,a,m){
      i["DaoVoiceObject"]=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;a.src=g;a.charset="utf-8";
      m.parentNode.insertBefore(a,m)}
    )(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/" + "<%- theme.daovoice_app_id %>" + ".js","daovoice")
  </script>

  <script>
    daovoice('init', {
      app_id: "<%- theme.daovoice_app_id %>",
      user_id: "<%- theme.daovoice_user_id %>",
      email: "<%- theme.daovoice_email %>",
      name: "<%- theme.daovoice_name %>",
      signed_up: <%- theme.daovoice_signed_up %>
    });
    daovoice('update');
  </script>

  <script>
    daovoice('init', {
      app_id: "<%- theme.daovoice_app_id %>"
    });
    daovoice('update');
  </script>
<% } %>

```
⚠️注意`ejs文件`的中对变量的引用，同时区别于`swing文件`， 不清楚的自行`google`

#### 修改主题配置文件

主题配置文件：`MyBlog/_config.yml`,
添加配置：

```yml
daovoice: true
daovoice_app_id:
daovoice_user_id:    # 必填: 该用户在您系统上的唯一ID
daovoice_email:     # 选填:  该用户在您系统上的主邮箱
daovoice_name:       # 选填: 用户名
daovoice_signed_up:       # 选填: 用户的注册时间，用Unix时间戳表示
```

#### 测试
至此，代码安装修改完成， 重新部署博客， daovoice后台`ping`一下，看是否安装成功。

### 二. live2d安装配置
单调的博客主题可能产生审美疲劳，那我们就增加点二次元元素。

#### 安装
一条命令解决了:

> npm install -save hexo-helper-live2d

#### 添加代码
在`themes/hexo-theme-miho/layout/layout.ejs`文件中追加：

```js
<%- live2d() %>
```

#### 修改主题配置文件

主题配置文件：`MyBlog/_config.yml`,
添加配置：

```yml
# Live2D
live2d:
  model: Epsilon2.1
  width: 200 # The width of your model. default: 150
  height: 350 # The height of your model. default: 300
  position: left
  opacityDefault: 1
```
更多配置参考[官方文档][3]

### 三. 鼠标点击♥️♥️效果
1. 下载[`love.js`][4]代码, [点击下载][4]
2. 在`themes/hexo-theme-miho/source/js/`下面新建`love.js`,将上面下载的代码copy进去。
3. 在`themes/hexo-theme-miho/layout/layout.ejs`文件中追加代码：

```js
<% if (theme.love) { %>
  <script type="text/javascript" src="/js/love.js"></script>
<% } %>
```
4. 主题配置文件`MyBlog/_config.yml`中添加配置：

```yml
# 鼠标点击桃心效果
love: true

```

### 四. 博客字数时长统计插件
在博客底部添加博客全站字数统计， 文章标题下方添加文章字数和阅读时长的统计。

#### installation
> npm i --save hexo-wordcount

#### 添加代码
在`themes/hexo-theme-miho/layout/_partial/post/title.ejs`相应位置添加：

```html
<% if (theme.wordcount.enable){ %>
<ul>
  <li>
      <i class="fa fa-file-word-o"></i>
      字数统计<span class="post-count"><%= wordcount(post.content) %></span>字
  </li>
  <li>
    <span> | </span>
  </li>
  <li>
    <i class="fa fa-clock-o"></i>
    阅读时长<span class="post-count"><%= min2read(post.content) %></span>分钟
  </li>
</ul>
<% } %>
```

⚠️特别注意，博客主题的不同，可能添加的位置不同，找到合适的位置，使用的合适的样式，将代码添加进去即可。

#### 配置文件
在根目录`MyBlog/_config.yml`主题配置文件中添加配置：

```yml
# Post wordcount display settings字数统计插件
# Dependencies: https://github.com/willin/hexo-wordcount
# 打开之后，会同时打开文章文字统计， 阅读时长和全站文字统计
wordcount:
  enable: true
```
关于wordcount的详细说明[查看][9]

### 五. 添加rss订阅
添加博客订阅功能。

#### installation
安装插件[hexo-generator-feed][10]

> npm install hexo-generator-feed --save

#### 配置
配置根目录下的`_config.yml`：

```yml
## Plugins: http://hexo.io/plugins/
#RSS订阅
plugin:
- hexo-generator-feed
#Feed Atom
feed:
  type: atom
  path: atom.xml
  limit: 20
```

配置主题目录下的`_config.yml`链接：
```yml
rss:
  title: Rss
  url: /atom.xml
```

#### 运行测试
点击`rss`图标测试。

**更多配置优化持续更新中...**

也可参考[文章][7]，插件还是配置了比较多的。

### 六. 添加sitemap站点地图

这个shishi，好好地


[1]: http://blog.willhappy.cn/2015/07/24/2_2015-07-24_hexoCreate/
[2]: http://www.daovoice.io/
[3]: https://github.com/EYHN/hexo-helper-live2d
[4]: http://7u2ss1.com1.z0.glb.clouddn.com/love.js
[5]: https://github.com/WongMinHo/hexo-theme-miho
[6]: https://github.com/williamHappy/williamHappy.github.io/tree/blog_source
[7]: https://segmentfault.com/a/1190000009544924#articleHeader24
[8]: https://github.com/MOxFIVE/hexo-theme-yelee
[9]: https://github.com/willin/hexo-wordcount
[10]: https://github.com/hexojs/hexo-generator-feed
